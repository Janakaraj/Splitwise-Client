<div class="container">
    <h2>Add new expense</h2>
    <hr />
    <div class="row">
        <div class="col">
            <form #form="ngForm">
                <div class="form-group">
                    <label for="Participents" class="control-label"> Choose Participents</label>
                    <div>
                        <span *ngFor="let participent of participents"
                            class="badge badge-success">{{participent.userName}}&nbsp;<a (click)="selectSuggestion(participent)"><i class="fa fa-times" ></i></a></span>
                    </div>

                    <div class="card">
                        <div class="card-body" *ngFor="let member of groupMembers" [ngClass]="isSelected(member) ? 'selection' : ''"><a
                                (click)="selectSuggestion(member)">{{member.userFullName}}</a></div>
                    </div>
                    <!-- <div class="alert-danger" *ngIf="dept.errors && (dept.dirty || dept.touched)" style="padding:2px;">
                        <span *ngIf="dept.errors.required">Department is required</span>
                    </div> -->
                </div>
                <div class="form-group">
                    <label for="ExpenseName" class="control-label">Expense name</label>
                    <input type="text" id="ExpenseName" name="ExpenseName" class="form-control"
                        [(ngModel)]='expense.expenseName' required #expenseName="ngModel" />
                    <div class="alert-danger" *ngIf="expenseName.errors && (expenseName.dirty || expenseName.touched)"
                        style="padding:2px;">
                        <span *ngIf="expenseName.errors.required">Expense name is required</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="ExpenseCurrency" class="control-label">Expense Currency</label>
                    <input type="text" id="ExpenseCurrency" name="ExpenseCurrency" class="form-control"
                        [(ngModel)]='expense.expenseCurrency' required #expenseCurrency="ngModel" />
                    <div class="alert-danger"
                        *ngIf="expenseCurrency.errors && (expenseCurrency.dirty || expenseCurrency.touched)"
                        style="padding:2px;">
                        <span *ngIf="expenseCurrency.errors.required">Expense Splitby is required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="ExpenseTotalAmount" class="control-label">Expense Total Amount</label>
                    <input type="number" id="ExpenseTotalAmount" name="ExpenseTotalAmount" class="form-control"
                        [(ngModel)]='expense.expenseTotalAmount' required #expenseTotalAmount="ngModel" />
                    <div class="alert-danger"
                        *ngIf="expenseTotalAmount.errors && (expenseTotalAmount.dirty || expenseTotalAmount.touched)"
                        style="padding:2px;">
                        <span *ngIf="expenseTotalAmount.errors.required">Expense Total Amount is required</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="PaidBy" class="control-label">PaidBy</label>
                    <select id="PaidBy" name="PaidBy" class="form-control" [(ngModel)]='paidById'
                        required #paidBy="ngModel">
                        <option *ngFor='let member of groupMembers' [ngValue]="member.id">
                            {{member.userFullName}}</option>
                    </select>
                    <div class="alert-danger" *ngIf="paidBy.errors && (paidBy.dirty || paidBy.touched)" style="padding:2px;">
                        <span *ngIf="paidBy.errors.required">PaidBy is required</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="ExpenseDescription" class="control-label">Expense Description</label>
                    <input type="text" id="ExpenseDescription" name="ExpenseDescription" class="form-control"
                        [(ngModel)]='expense.expenseDescription' required #expenseDescription="ngModel" />
                    <div class="alert-danger"
                        *ngIf="expenseDescription.errors && (expenseDescription.dirty || expenseDescription.touched)"
                        style="padding:2px;">
                        <span *ngIf="expenseDescription.errors.required">Expense description is required</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="ExpenseSplitBy" class="control-label">Expense SplitBy</label>
                    <input type="text" id="ExpenseSplitBy" name="ExpenseSplitBy" class="form-control"
                        [(ngModel)]='expense.expenseSplitBy' required #expenseSplitBy="ngModel" />
                    <div class="alert-danger"
                        *ngIf="expenseSplitBy.errors && (expenseSplitBy.dirty || expenseSplitBy.touched)"
                        style="padding:2px;">
                        <span *ngIf="expenseSplitBy.errors.required">Expense Splitby is required</span>
                    </div>
                </div>
                <div class="form-group">
                    <input [disabled]="!form.valid" class='btn btn-tomato' type="button" value="Add" (click)='add()'>
                </div>
            </form>
        </div>
    </div>
</div>